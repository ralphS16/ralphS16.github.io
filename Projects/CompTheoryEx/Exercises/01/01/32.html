<html>
<h1>Chapter 1: #1.32</h1>
<p>Let $M_1 = (Q_1, \Sigma, \delta_1, q_0^1, F_1)$ be a DFA recognizing $A$ and $M_2 = (Q_1, \Sigma, \delta_2, q_0^2, F_2)$ be 
a DFA recognizing $B$. We construct a new NFA that recognizes the shuffle of $A$ and $B$. Let $M = (Q, \Sigma, \delta, q_0, F)$, 
with $Q = Q_1 \times Q_2 \times \{q_A, q_B\}$, $q_0 = (q_0^1,q_0^2,q_A)$, $F = F_1 \times F_2 \times \{q_A\}$ and $\delta$ defined 
as follows:
\begin{align*}\forall x \in \Sigma, r\in Q_1,s\in Q_2, &amp;\delta((r,s,q_A), x) = \{(\delta_1(r,x),s,q_A)\} \\
\forall x \in \Sigma, r\in Q_1, s\in Q_2 , &amp;\delta((r,s,q_B), x) = \{(r,\delta_2(s,x),q_B)\} \\
\forall r \in Q_1, s \in Q_2, &amp;\delta((r,s,q_A),\varepsilon)) = \{(r,s,q_B)\}\\
\forall r \in Q_1, s \in Q_2, &amp;\delta((r,s,q_B),\varepsilon)) = \{(r,s,q_A)\}
\end{align*}
</p>
<p>Informally, this machine simulates $M_1$ and $M_2$ at the same time (as in 1.31) except that at each character, 
it non-deterministically chooses to alternate between the machines. We will show that this machine indeed recognizes the shuffle 
of $A$ and $B$. Let $w$ be in the shuffle and write $w = x_1y_1\cdots x_ky_k$ with $x_i,y_i \in \Sigma^*$ with $x_1\cdots x_k \in A$ and 
$y_1\cdots y_k \in B$. By the definition of the transition function, there is a branch of computations that swtiches machine so that 
it processes the subwords $x_i$ as in $M_1$ and the subwords $y_i$ as in $M_2$. Therefore, $M$ ends inside $F_1 \times F_2$ because 
$M_1$ ends in $F_1$ and $M_2$ ends in $F_2$, then there is an epsilon transition to a state in $F$ so $M$ accepts $w$. If $M$ accepts 
$w$, then by looking at the switches of machine, we can write $w = x_1y_1\cdots x_ky_k$ with $x_i,y_i \in \Sigma^*$ and immediately 
observe that $x_1\cdots x_k \in A$ and $y_1\cdots y_k \in B$ because $M$ ends in an accepting state. This shows $M$ recognizes the shuffle 
of $A$ and $B$.
</p>
<p>Since for any two regular languages, we can construct a NFA recognizing their shuffle, the class of regular 
languages is closed under this operation.
</p>
</html>